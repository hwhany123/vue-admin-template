(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b90b578"],{"0ab5":function(t,e,n){},"1a3b":function(t,e,n){},"65d5":function(t,e,n){"use strict";n("0ab5")},a057:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid-container"},[n("div",{attrs:{id:"title"}},[n("h2",[t._v("差旅费报销单")]),n("br"),n("hr"),n("div",{staticClass:"row",attrs:{id:"pzh"}},[n("div",{staticClass:"col-lg-3"},[t._v("报销人："+t._s(t.list.报销人))]),n("div",{staticClass:"col-lg-3"},[t._v("部门："+t._s(t.list.部门))]),n("div",{staticClass:"col-lg-3"},[t._v("是否享受车改："),n("input",{attrs:{type:"checkbox",disabled:"True"},domProps:{checked:t.list.是否享受车改}})]),n("div",{staticClass:"col-lg-3"},[t._v("是否公派车辆/；"),n("input",{attrs:{type:"checkbox",disabled:"True"},domProps:{checked:t.list.是否公派车辆}})])]),n("br"),n("div",{staticClass:"row",attrs:{id:"pzh"}},[t._v("最后修改时间："+t._s(t.formatted_time2(t.list.updated)))]),n("br"),n("hr"),n("br"),n("div",{attrs:{id:"hs"}},[t._v(" 出差事由： "),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list.事由,expression:"list.事由"}],attrs:{placeholder:"输入事由",rows:"2",cols:"90"},domProps:{value:t.list.事由},on:{input:function(e){e.target.composing||t.$set(t.list,"事由",e.target.value)}}})]),n("br"),n("el-button",{attrs:{type:"primary",size:"mini"}},[n("router-link",{attrs:{to:{name:"ArticleEdit_bx",params:{id:t.list.id}}}},[t._v(" 修改 ")])],1),n("br"),n("div",{staticClass:"row",attrs:{id:"pzh"}},[n("div",[t._v("报销单号："+t._s(t.list.id))]),t._m(0),n("div",[t._v("单据日期："+t._s(t.formatted_time(t.list.created)))])]),n("br"),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list.行项目,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"","header-cell-style":{background:"#778899",color:"white"}}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),n("el-table-column",{attrs:{label:"起始日期",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.起始日期?n("div",[t._v(" "+t._s(e.row.起始日期)+" ")]):t._e()]}}])}),n("el-table-column",{attrs:{label:"结束日期",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.结束日期?n("div",[t._v(" "+t._s(e.row.结束日期)+" ")]):t._e()]}}])}),n("el-table-column",{attrs:{label:"出发地",align:"center",width:"60px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.出发地))])]}}])}),n("el-table-column",{attrs:{label:"目的地",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!==e.row.目的地?n("div",[t._v(" "+t._s(e.row.目的地)+" ")]):t._e()]}}])}),n("el-table-column",{attrs:{label:"补贴",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.补贴)+" ")]}}])}),n("el-table-column",{attrs:{label:"交通工具类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.交通工具类型)+" ")]}}])}),n("el-table-column",{attrs:{label:"交通费",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.交通费)+" ")]}}])}),n("el-table-column",{attrs:{label:"住宿地点",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.住宿地点)+" ")]}}])}),n("el-table-column",{attrs:{label:"住宿费",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.住宿费)+" ")]}}])}),n("el-table-column",{attrs:{label:"其他费用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.其他费用)+" ")]}}])})],1)],1)])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("br")])}],i=n("e3e1"),o=n("efb3"),s={components:{Comments:o["a"]},data:function(){return{list:null}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object(i["b"])(this.$route.params.id).then((function(e){t.list=e}))},hh:function(t){return{backgroundColor:"red"}},formatted_time:function(t){var e=new Date(t);return e.toLocaleDateString()},formatted_time2:function(t){var e=new Date(t);return e.toLocaleDateString()+" "+e.toLocaleTimeString()}}},c=s,l=(n("65d5"),n("de2e"),n("2877")),u=Object(l["a"])(c,a,r,!1,null,"6bc8cca6",null);e["default"]=u.exports},ad8f:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"g",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return m}));var a=n("b775"),r=n("5f87"),i=n("bc3a"),o=n.n(i);function s(t){return Object(a["a"])({url:"/api/article/",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/api/article/"+t+"/",method:"get"})}function l(t){return o.a.post("/api/article/",t,{headers:{Authorization:"Bearer "+Object(r["a"])()}})}function u(t,e){return o.a.put("/api/article/"+t+"/",e,{headers:{Authorization:"Bearer "+Object(r["a"])()}})}function d(t){return o.a.delete("/api/article/"+t+"/",{headers:{Authorization:"Bearer "+Object(r["a"])()}})}function f(t){return o.a.post("/api/comment/",t,{headers:{Authorization:"Bearer "+Object(r["a"])()}})}function m(t){return o.a.post("/api/avatar/",t,{headers:{Authorization:"Bearer "+Object(r["a"])(),"Content-Type":"multipart/form-data"}})}},de2e:function(t,e,n){"use strict";n("1a3b")},e3e1:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return d}));var a=n("b775"),r=n("5f87"),i=n("bc3a"),o=n.n(i);function s(t){return Object(a["a"])({url:"/api/article_bx/",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/api/article_bx/"+t+"/",method:"get"})}function l(t){return o.a.post("/api/article_bx/",t,{headers:{Authorization:"Bearer "+Object(r["a"])()}})}function u(t,e){return o.a.put("/api/article_bx/"+t+"/",e,{headers:{Authorization:"Bearer "+Object(r["a"])()}})}function d(t){return o.a.delete("/api/article_bx/"+t+"/",{headers:{Authorization:"Bearer "+Object(r["a"])()}})}},efb3:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("br"),n("br"),n("hr"),n("h3",[t._v("发表评论")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{placeholder:t.placeholder,name:"comment",id:"comment-area",cols:"60",rows:"10"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),n("div",[n("button",{staticClass:"submitBtn",on:{click:t.submit}},[t._v("发布")])]),n("br"),n("p",[t._v("已有 "+t._s(t.comments.length)+" 条评论")]),n("hr"),t._l(t.comments,(function(e){return n("div",{key:e.id},[n("div",{staticClass:"comments"},[n("div",[n("span",{staticClass:"username"},[t._v(" "+t._s(e.author.username)+" ")]),t._v(" 于 "),n("span",{staticClass:"created"},[t._v(" "+t._s(t.formatted_time(e.created))+" ")]),e.parent?n("span",[t._v(" 对 "),n("span",{staticClass:"parent"},[t._v(" "+t._s(e.parent.author.username)+" ")])]):t._e(),t._v(" 说道： ")]),n("div",{staticClass:"content"},[t._v(" "+t._s(e.content)+" ")]),n("div",[n("button",{staticClass:"commentBtn",on:{click:function(n){return t.replyTo(e)}}},[t._v("回复")])])]),n("hr")])}))],2)},r=[],i=n("ad8f"),o={name:"Comments",props:{article:Object},data:function(){return{comments:[],message:"",placeholder:"说点啥吧...",parentID:null}},created:function(){this.comments=this.article.comments},methods:{submit:function(){var t=this;console.log("comment",this.article.comments),Object(i["e"])({content:t.message,article_id:t.article.id,parent_id:t.parentID}).then((function(e){t.comments.unshift(e.data),t.message="",alert("留言成功")}))},replyTo:function(t){this.parentID=t.id,this.placeholder="对"+t.author.username+"说:"},formatted_time:function(t){var e=new Date(t);return e.toLocaleDateString()+"  "+e.toLocaleTimeString()}}},s=o,c=(n("f9ed"),n("2877")),l=Object(c["a"])(s,a,r,!1,null,"00f1c084",null);e["a"]=l.exports},f9db:function(t,e,n){},f9ed:function(t,e,n){"use strict";n("f9db")}}]);